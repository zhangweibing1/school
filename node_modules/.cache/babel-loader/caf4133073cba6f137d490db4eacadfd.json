{"remainingRequest":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\babel-loader\\lib\\index.js!F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\src\\views\\home\\noticeList.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\src\\views\\home\\noticeList.vue","mtime":1544856769266},{"path":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1544410008433},{"path":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\babel-loader\\lib\\index.js","mtime":1544410008076},{"path":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1544410008433},{"path":"F:\\青峰软件\\通用平台\\2018教务\\vueProject\\school\\node_modules\\vue-loader\\lib\\index.js","mtime":1544410027082}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"F:\\\\\\u9752\\u5CF0\\u8F6F\\u4EF6\\\\\\u901A\\u7528\\u5E73\\u53F0\\\\2018\\u6559\\u52A1\\\\vueProject\\\\school\\\\node_modules\\\\@vue\\\\babel-preset-app\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/asyncToGenerator\";\nimport _objectSpread from \"F:\\\\\\u9752\\u5CF0\\u8F6F\\u4EF6\\\\\\u901A\\u7528\\u5E73\\u53F0\\\\2018\\u6559\\u52A1\\\\vueProject\\\\school\\\\node_modules\\\\@vue\\\\babel-preset-app\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport { loadBaNoticeAndNew } from '@/services/home';\nexport default {\n  name: 'noticeList',\n  data: function data() {\n    return {\n      active: 0,\n      msgSubmit: {\n        type: '',\n        userId: ''\n      },\n      noticeList: [],\n      newsList: []\n    };\n  },\n  computed: _objectSpread({}, mapGetters('system', ['userInfo'])),\n  mounted: function mounted() {\n    this.active = this.$route.params.type;\n\n    if (this.active === '0') {\n      this.msgSubmit.type = '2';\n    } else {\n      this.msgSubmit.type = '3';\n    }\n\n    this.msgSubmit.userId = this.$store.state.system.userInfo.id;\n    this.queryData(this.msgSubmit);\n  },\n  methods: {\n    onClickLeft: function onClickLeft() {\n      this.$router.go(-1);\n    },\n    queryData: function () {\n      var _queryData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(param) {\n        var _ref, data, records, _records;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return loadBaNoticeAndNew(param);\n\n              case 2:\n                _ref = _context.sent;\n                data = _ref.data;\n\n                if (param.type === '2') {\n                  records = data.notice.records;\n                  records.forEach(function (element, index) {\n                    records[index].content = records[index].content.replace(/<\\/?.+?>/g, '').replace(/ /g, '').substring(0, 20);\n                    records[index].sendTime = records[index].sendTime.substring(0, 10);\n                  });\n                  this.noticeList = records;\n                }\n\n                if (param.type === '3') {\n                  _records = data.news.records;\n\n                  _records.forEach(function (element, index) {\n                    _records[index].content = _records[index].content.replace(/<\\/?.+?>/g, '').replace(/ /g, '').substring(0, 20);\n                    _records[index].sendTime = _records[index].sendTime.substring(0, 10);\n                  });\n\n                  this.newsList = _records;\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function queryData(_x) {\n        return _queryData.apply(this, arguments);\n      };\n    }(),\n    choseTab: function choseTab(index, title) {\n      this.msgSubmit.userId = this.$store.state.system.userInfo.id;\n\n      if (index === 0) {\n        this.msgSubmit.type = '2';\n      } else if (index === 1) {\n        this.msgSubmit.type = '3';\n      }\n\n      this.queryData(this.msgSubmit);\n    },\n    showDetail: function showDetail(value) {\n      this.$router.push(\"/newsDetail/\".concat(value));\n    }\n  }\n};",{"version":3,"sources":["noticeList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"noticeList\">\r\n    <van-nav-bar title=\"资讯\" left-text=\"返回\" right-text left-arrow fixed @click-left=\"onClickLeft\"/>\r\n    <van-tabs v-model=\"active\"  @click=\"choseTab\">\r\n      <van-tab title=\"通知公告\">\r\n        <span v-for=\"n in noticeList\" :key=\"n.id\">\r\n          <div class=\"wrapper\">\r\n            <div class=\"one\" @click=\"showDetail(n.id)\">\r\n            <h4>\r\n              {{n.title}}\r\n            </h4>\r\n            <p class=\"neirong\">{{n.content}}</p>\r\n            <div class=\"date\">\r\n              <p class=\"time\">\r\n                <img :src=\"require('@/assets/time.png')\" alt> {{n.sendTime}}\r\n              </p>\r\n             </div>\r\n            </div>\r\n          </div>\r\n        </span>\r\n      </van-tab>\r\n      <van-tab title=\"新闻资讯\">\r\n        <span v-for=\"n in newsList\" :key=\"n.id\">\r\n         <div class=\"wrapper\">\r\n            <div class=\"one\"  @click=\"showDetail(n.id)\">\r\n            <h4>\r\n              {{n.title}}\r\n            </h4>\r\n            <p class=\"neirong\">{{n.content}}</p>\r\n            <div class=\"date\">\r\n              <p class=\"time\">\r\n                <img :src=\"require('@/assets/time.png')\" alt> {{n.sendTime}}\r\n              </p>\r\n             </div>\r\n            </div>\r\n          </div>\r\n        </span>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport { loadBaNoticeAndNew } from '@/services/home';\r\n\r\nexport default {\r\n  name: 'noticeList',\r\n  data() {\r\n    return {\r\n      active: 0,\r\n      msgSubmit: {\r\n        type: '',\r\n        userId: '',\r\n      },\r\n      noticeList: [],\r\n      newsList: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('system', ['userInfo']),\r\n  },\r\n  mounted() {\r\n    this.active = this.$route.params.type;\r\n    if (this.active === '0') {\r\n      this.msgSubmit.type = '2';\r\n    } else {\r\n      this.msgSubmit.type = '3';\r\n    }\r\n    this.msgSubmit.userId = this.$store.state.system.userInfo.id;\r\n    this.queryData(this.msgSubmit);\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    async queryData(param) {\r\n      const { data } = await loadBaNoticeAndNew(param);\r\n      if (param.type === '2') {\r\n        const records = data.notice.records;\r\n        records.forEach((element, index) => {\r\n          records[index].content =\r\n              records[index].content.replace(/<\\/?.+?>/g, '').replace(/ /g, '').substring(0, 20);\r\n          records[index].sendTime = records[index].sendTime.substring(0, 10);\r\n        });\r\n        this.noticeList = records;\r\n      }\r\n      if (param.type === '3') {\r\n        const records = data.news.records;\r\n        records.forEach((element, index) => {\r\n          records[index].content =\r\n            records[index].content.replace(/<\\/?.+?>/g, '').replace(/ /g, '').substring(0, 20);\r\n          records[index].sendTime = records[index].sendTime.substring(0, 10);\r\n        });\r\n        this.newsList = records;\r\n      }\r\n    },\r\n    choseTab(index, title) {\r\n      this.msgSubmit.userId = this.$store.state.system.userInfo.id;\r\n      if (index === 0) {\r\n        this.msgSubmit.type = '2';\r\n      } else if (index === 1) {\r\n        this.msgSubmit.type = '3';\r\n      }\r\n      this.queryData(this.msgSubmit);\r\n    },\r\n    showDetail(value) {\r\n      this.$router.push(`/newsDetail/${value}`);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.noticeList {\r\n  padding: 44px 0 46px;\r\n}\r\n.wrapper {\r\n  width: 100%;\r\n  padding: 0px 12px;\r\n  background: #fff;\r\n}\r\n.one {\r\n  padding: 19px 0;\r\n  border-bottom: solid #e7e7e7 1px;\r\n}\r\n.one h4 {\r\n  font-size: 16px;\r\n  color: #1c1c1c;\r\n  font-weight: 600;\r\n}\r\n.content-block {\r\n  margin: 0 !important;\r\n  padding: 0 !important;\r\n}\r\n.bd {\r\n  width: 38px;\r\n  height: 18px;\r\n  font-weight: 600;\r\n  color: #ff1717;\r\n  font-size: 13px;\r\n  background: #ffeeee;\r\n  display: inline-block;\r\n  text-align: center;\r\n  line-height: 18px;\r\n  margin-left: 8px;\r\n}\r\n.neirong {\r\n  font-size: 16px;\r\n  color: #666666;\r\n  margin: 12px 0 !important;\r\n}\r\n.date img {\r\n  width: 13.5px;\r\n  height: 13.5px;\r\n  display: inline-block;\r\n}\r\n.ly {\r\n  height: 32px;\r\n  display: flex;\r\n  line-height: 30px;\r\n}\r\n.ly span {\r\n  font-size: 15px;\r\n  color: #666666;\r\n}\r\n.date p {\r\n  margin: 0;\r\n  color: #999999;\r\n  font-size: 14px;\r\n}\r\n.yd {\r\n  width: 38px;\r\n  height: 18px;\r\n  font-weight: 600;\r\n  color: #c1c1c1;\r\n  font-size: 13px;\r\n  background: #f6f6f6;\r\n  display: inline-block;\r\n  text-align: center;\r\n  line-height: 18px;\r\n  margin-left: 8px;\r\n}\r\n.wrapper .one:last-child {\r\n  border: 0;\r\n}\r\n/* 通知结束 */\r\n/* 资讯开始 */\r\n.list {\r\n  padding: 20px 0;\r\n  border-bottom: solid 1px #e5e5e5;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.information .list:last-child {\r\n  border: 0;\r\n}\r\n.list_left {\r\n  width: 200px;\r\n}\r\n.list_left p {\r\n  font-size: 16px;\r\n  color: #1c1c1c;\r\n  font-weight: 600;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n  max-height: 50px;\r\n  overflow: hidden;\r\n}\r\n.list_right {\r\n  width: 113px;\r\n  height: 80px;\r\n  overflow: hidden;\r\n}\r\n.list_right img {\r\n  width: 100%;\r\n}\r\n.list_left2 {\r\n  width: 100%;\r\n}\r\n.list_left2 p {\r\n  font-size: 16px;\r\n  color: #1c1c1c;\r\n  font-weight: 600;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n  max-height: 50px;\r\n  overflow: hidden;\r\n}\r\n.time {\r\n  font-size: 14px;\r\n  color: #999999 !important;\r\n  font-weight: 500 !important;\r\n  margin-top: 12px !important;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\views\\home"}]}